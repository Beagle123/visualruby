<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: VR::FileTreeView
  
    &mdash; Generated with my_yard 
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "VR::FileTreeView";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (F)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../VR.html" title="VR (module)">VR</a></span></span>
     &raquo; 
    <span class="title">FileTreeView</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: VR::FileTreeView
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="TreeView.html" title="VR::TreeView (class)">TreeView</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Gtk::TreeView</li>
          
            <li class="next"><span class='object_link'><a href="TreeView.html" title="VR::TreeView (class)">TreeView</a></span></li>
          
            <li class="next">VR::FileTreeView</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/treeview/FileTreeView.rb</dd>
  </dl>
  
</div>

<div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="../ProjectTree.html" title="ProjectTree (class)">ProjectTree</a></span>, <span class='object_link'><a href="../VR_File_Tree.html" title="VR_File_Tree (class)">VR_File_Tree</a></span></p>
</div>
<h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="FileTreeView/IconHash.html" title="VR::FileTreeView::IconHash (class)">IconHash</a></span>
    
  
</p>




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#glob-instance_method" title="#glob (instance method)">#<strong>glob</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute glob.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#root-instance_method" title="#root (instance method)">#<strong>root</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute root.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#validate_block-instance_method" title="#validate_block (instance method)">#<strong>validate_block</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A Code block that further excludes files and folders included in the tree.</p>
</div></span>
  
</li>

    
  </ul>



  
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="ViewCommon.html" title="VR::ViewCommon (module)">ViewCommon</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ViewCommon.html#column_keys-instance_method" title="VR::ViewCommon#column_keys (method)">#column_keys</a></span>, <span class='object_link'><a href="ViewCommon.html#vr_cols-instance_method" title="VR::ViewCommon#vr_cols (method)">#vr_cols</a></span>, <span class='object_link'><a href="ViewCommon.html#vr_column-instance_method" title="VR::ViewCommon#vr_column (method)">#vr_column</a></span>, <span class='object_link'><a href="ViewCommon.html#vr_id-instance_method" title="VR::ViewCommon#vr_id (method)">#vr_id</a></span>, <span class='object_link'><a href="ViewCommon.html#vr_renderer-instance_method" title="VR::ViewCommon#vr_renderer (method)">#vr_renderer</a></span></p>


  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_file-instance_method" title="#add_file (instance method)">#<strong>add_file</strong>(filename, parent = @root_iter)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds a file to the tree under a given parent iter.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#expand_or_collapse_folder-instance_method" title="#expand_or_collapse_folder (instance method)">#<strong>expand_or_collapse_folder</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Expands or collapses the currently selected row.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_open_folders-instance_method" title="#get_open_folders (instance method)">#<strong>get_open_folders</strong>  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>returns an array of open folders.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_selected_path-instance_method" title="#get_selected_path (instance method)">#<strong>get_selected_path</strong>  &#x21d2; String<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the full filename with path of the selected file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(root = Dir.pwd, icon_path = nil, glob = &quot;*&quot;, validate_block = nil)  &#x21d2; FileTreeView </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>FileTreeView creates a TreeView of files with folders and icons.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#open_folders-instance_method" title="#open_folders (instance method)">#<strong>open_folders</strong>(folder_paths)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Opens a list of folders.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#refresh-instance_method" title="#refresh (instance method)">#<strong>refresh</strong>(flags = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Refresh the file tree, optionally with a new root folder, and optionally opening an array of folders.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_show_expanders-instance_method" title="#set_show_expanders (instance method)">#<strong>set_show_expanders</strong>(expand = true)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sets whether or not the little arrow expanders appear net to the folders.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="TreeView.html" title="VR::TreeView (class)">TreeView</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="TreeView.html#add_row-instance_method" title="VR::TreeView#add_row (method)">#add_row</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="ViewCommon.html" title="VR::ViewCommon (module)">ViewCommon</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ViewCommon.html#add_column-instance_method" title="VR::ViewCommon#add_column (method)">#add_column</a></span>, <span class='object_link'><a href="ViewCommon.html#add_renderer_to_col-instance_method" title="VR::ViewCommon#add_renderer_to_col (method)">#add_renderer_to_col</a></span>, <span class='object_link'><a href="ViewCommon.html#col_attr-instance_method" title="VR::ViewCommon#col_attr (method)">#col_attr</a></span>, <span class='object_link'><a href="ViewCommon.html#column-instance_method" title="VR::ViewCommon#column (method)">#column</a></span>, <span class='object_link'><a href="ViewCommon.html#delete_selected-instance_method" title="VR::ViewCommon#delete_selected (method)">#delete_selected</a></span>, <span class='object_link'><a href="ViewCommon.html#each_cell_method-instance_method" title="VR::ViewCommon#each_cell_method (method)">#each_cell_method</a></span>, <span class='object_link'><a href="ViewCommon.html#each_renderer-instance_method" title="VR::ViewCommon#each_renderer (method)">#each_renderer</a></span>, <span class='object_link'><a href="ViewCommon.html#each_row-instance_method" title="VR::ViewCommon#each_row (method)">#each_row</a></span>, <span class='object_link'><a href="ViewCommon.html#flatten_hash-instance_method" title="VR::ViewCommon#flatten_hash (method)">#flatten_hash</a></span>, <span class='object_link'><a href="ViewCommon.html#get_iter-instance_method" title="VR::ViewCommon#get_iter (method)">#get_iter</a></span>, <span class='object_link'><a href="ViewCommon.html#id-instance_method" title="VR::ViewCommon#id (method)">#id</a></span>, <span class='object_link'><a href="ViewCommon.html#method_missing-instance_method" title="VR::ViewCommon#method_missing (method)">#method_missing</a></span>, <span class='object_link'><a href="ViewCommon.html#ren_attr-instance_method" title="VR::ViewCommon#ren_attr (method)">#ren_attr</a></span>, <span class='object_link'><a href="ViewCommon.html#renderer-instance_method" title="VR::ViewCommon#renderer (method)">#renderer</a></span>, <span class='object_link'><a href="ViewCommon.html#selected_rows-instance_method" title="VR::ViewCommon#selected_rows (method)">#selected_rows</a></span>, <span class='object_link'><a href="ViewCommon.html#turn_on_comboboxes-instance_method" title="VR::ViewCommon#turn_on_comboboxes (method)">#turn_on_comboboxes</a></span>, <span class='object_link'><a href="ViewCommon.html#vr_row-instance_method" title="VR::ViewCommon#vr_row (method)">#vr_row</a></span></p>

  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(root = Dir.pwd, icon_path = nil, glob = &quot;*&quot;, validate_block = nil)  &#x21d2; <tt><span class='object_link'><a href="" title="VR::FileTreeView (class)">FileTreeView</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>FileTreeView creates a TreeView of files with folders and icons.</p>

<p>Often you should subclass this class for a particular use.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>root</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Dir.pwd</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Root folder of the tree</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>icon_path</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Path to a folder where icons are stored.  See VR::IconHash</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>glob</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&quot;*&quot;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Glob designating the files to be included.  Google: “ruby glob” for more.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>validate_block</span>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Block that limits files and folders to include. When block returns true file is includud. (false = excluded)</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/treeview/FileTreeView.rb', line 18</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_root'><span class='object_link'><a href="../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span></span> <span class='op'>=</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_pwd'>pwd</span><span class='comma'>,</span> <span class='id identifier rubyid_icon_path'>icon_path</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_glob'>glob</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_validate_block'>validate_block</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='ivar'>@root</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span><span class='lparen'>(</span><span class='id identifier rubyid_root'><span class='object_link'><a href="../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span></span><span class='rparen'>)</span>
  <span class='ivar'>@glob</span> <span class='op'>=</span> <span class='id identifier rubyid_glob'>glob</span>
  <span class='ivar'>@validate_block</span> <span class='op'>=</span> <span class='id identifier rubyid_validate_block'>validate_block</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='label'>file:</span> <span class='lbrace'>{</span> <span class='label'>pix:</span> <span class='const'>GdkPixbuf</span><span class='op'>::</span><span class='const'>Pixbuf</span><span class='comma'>,</span> <span class='label'>file_name:</span> <span class='const'>String</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='label'>empty:</span> <span class='const'>TrueClass</span><span class='comma'>,</span> <span class='label'>path:</span> <span class='const'>String</span><span class='comma'>,</span> <span class='label'>sort_on:</span> <span class='const'>String</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_col_visible'>col_visible</span><span class='lparen'>(</span><span class='label'>path:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>sort_on:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>empty:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>file:</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_headers_visible'>headers_visible</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@icons</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span><span class='lparen'>(</span><span class='id identifier rubyid_icon_path'>icon_path</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='const'><span class='object_link'><a href="FileTreeView/IconHash.html" title="VR::FileTreeView::IconHash (class)">IconHash</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="FileTreeView/IconHash.html#initialize-instance_method" title="VR::FileTreeView::IconHash#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_icon_path'>icon_path</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='kw'>nil</span>
<span class='comment'>#      parse_signals()  #fix this!  Subclasses may call twice!
</span>  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_set_sort_column_id'>set_sort_column_id</span><span class='lparen'>(</span><span class='id identifier rubyid_id'>id</span><span class='lparen'>(</span><span class='symbol'>:sort_on</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='symbol'>:ascending</span> <span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_set_enable_search'>set_enable_search</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_refresh'>refresh</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_signal_connect'>signal_connect</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>row_expanded</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_view'>view</span><span class='comma'>,</span> <span class='id identifier rubyid_iter'>iter</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='op'>|</span> 
    <span class='id identifier rubyid_iter'>iter</span> <span class='op'>=</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_get_iter'>get_iter</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span> <span class='comment'># bug fix
</span>    <span class='id identifier rubyid_fill_folder'>fill_folder</span><span class='lparen'>(</span><span class='id identifier rubyid_iter'>iter</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_iter'>iter</span><span class='lbracket'>[</span><span class='id identifier rubyid_id'>id</span><span class='lparen'>(</span><span class='symbol'>:empty</span><span class='rparen'>)</span><span class='rbracket'>]</span>
  <span class='rbrace'>}</span> 
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>
<div id="method_missing_details" class="method_details_list">
  <h2>Dynamic Method Handling</h2>
  <p class="notice super">
    This class handles dynamic methods through the <tt>method_missing</tt> method
    
      in the class <span class='object_link'><a href="ViewCommon.html#method_missing-instance_method" title="VR::ViewCommon#method_missing (method)">VR::ViewCommon</a></span>
    
  </p>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="glob=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="glob-instance_method">
  
    #<strong>glob</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute glob.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6
7
8</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/treeview/FileTreeView.rb', line 6</span>

<span class='kw'>def</span> <span class='id identifier rubyid_glob'>glob</span>
  <span class='ivar'>@glob</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="root=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="root-instance_method">
  
    #<strong>root</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute root.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


6
7
8</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/treeview/FileTreeView.rb', line 6</span>

<span class='kw'>def</span> <span class='id identifier rubyid_root'><span class='object_link'><a href="../top-level-namespace.html" title="Top Level Namespace (root)">root</a></span></span>
  <span class='ivar'>@root</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="validate_block=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="validate_block-instance_method">
  
    #<strong>validate_block</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>A Code block that further excludes files and folders included in the tree. If this block returns false  for the entry, it will be excluded. If it returns true, it will be included…</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/treeview/FileTreeView.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_validate_block'>validate_block</span>
  <span class='ivar'>@validate_block</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add_file-instance_method">
  
    #<strong>add_file</strong>(filename, parent = @root_iter)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds a file to the tree under a given parent iter.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>filename</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Full path to file to add.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/treeview/FileTreeView.rb', line 102</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_file'>add_file</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span> <span class='ivar'>@root_iter</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_my_path'>my_path</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_dirname'>dirname</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_iter'>iter</span><span class='op'>|</span>
    <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_iter'>iter</span><span class='lbracket'>[</span><span class='id identifier rubyid_id'>id</span><span class='lparen'>(</span><span class='symbol'>:path</span><span class='rparen'>)</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_filename'>filename</span> <span class='comment'># duplicate
</span>    <span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span> <span class='id identifier rubyid_iter'>iter</span> <span class='kw'>if</span> <span class='id identifier rubyid_iter'>iter</span><span class='lbracket'>[</span><span class='id identifier rubyid_id'>id</span><span class='lparen'>(</span><span class='symbol'>:path</span><span class='rparen'>)</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_my_path'>my_path</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_fn'>fn</span> <span class='op'>=</span> <span class='id identifier rubyid_filename'>filename</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_parent'>parent</span><span class='lbracket'>[</span><span class='id identifier rubyid_id'>id</span><span class='lparen'>(</span><span class='symbol'>:empty</span><span class='rparen'>)</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id identifier rubyid_parent'>parent</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='id identifier rubyid_child'>child</span> <span class='op'>=</span> <span class='id identifier rubyid_add_row'>add_row</span><span class='lparen'>(</span><span class='id identifier rubyid_parent'>parent</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_child'>child</span><span class='lbracket'>[</span><span class='symbol'>:pix</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@icons</span><span class='period'>.</span><span class='id identifier rubyid_get_icon'>get_icon</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span><span class='lparen'>(</span><span class='id identifier rubyid_fn'>fn</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x.folder</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_fn'>fn</span><span class='rparen'>)</span>   <span class='kw'>if</span> <span class='ivar'>@icons</span>
  <span class='id identifier rubyid_child'>child</span><span class='lbracket'>[</span><span class='symbol'>:file_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_fn'>fn</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_child'>child</span><span class='lbracket'>[</span><span class='symbol'>:path</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_fn'>fn</span>
  <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span><span class='lparen'>(</span><span class='id identifier rubyid_fn'>fn</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_child'>child</span><span class='lbracket'>[</span><span class='symbol'>:sort_on</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_child'>child</span><span class='lbracket'>[</span><span class='symbol'>:file_name</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_child'>child</span><span class='lbracket'>[</span><span class='symbol'>:empty</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_add_row'>add_row</span><span class='lparen'>(</span><span class='id identifier rubyid_child'>child</span><span class='rparen'>)</span> <span class='comment'># dummy record so expander appears  
</span>  <span class='kw'>else</span>
    <span class='id identifier rubyid_child'>child</span><span class='lbracket'>[</span><span class='id identifier rubyid_id'>id</span><span class='lparen'>(</span><span class='symbol'>:sort_on</span><span class='rparen'>)</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>1</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_child'>child</span><span class='lbracket'>[</span><span class='id identifier rubyid_id'>id</span><span class='lparen'>(</span><span class='symbol'>:file_name</span><span class='rparen'>)</span><span class='rbracket'>]</span>      
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_child'>child</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="expand_or_collapse_folder-instance_method">
  
    #<strong>expand_or_collapse_folder</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Expands or collapses the currently selected row</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


70
71
72
73
74
75
76
77</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/treeview/FileTreeView.rb', line 70</span>

<span class='kw'>def</span> <span class='id identifier rubyid_expand_or_collapse_folder'>expand_or_collapse_folder</span><span class='lparen'>(</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_row'>row</span> <span class='op'>=</span> <span class='id identifier rubyid_selected_rows'>selected_rows</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_row_expanded?'>row_expanded?</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_collapse_row'>collapse_row</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_expand_row'>expand_row</span><span class='lparen'>(</span><span class='id identifier rubyid_row'>row</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_open_folders-instance_method">
  
    #<strong>get_open_folders</strong>  &#x21d2; <tt>Array</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>returns an array of open folders.  The array of folders can be saved, and then you can pass the array to #open_folders to restore the state of the file tree.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Returns array of strings with the full expanded paths of the open folders.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


82
83
84
85
86</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/treeview/FileTreeView.rb', line 82</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_open_folders'>get_open_folders</span><span class='lparen'>(</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_expanded'>expanded</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_map_expanded_rows'>map_expanded_rows</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_view'>view</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='op'>|</span> <span class='id identifier rubyid_expanded'>expanded</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_get_iter'>get_iter</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='id identifier rubyid_id'>id</span><span class='lparen'>(</span><span class='symbol'>:path</span><span class='rparen'>)</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_expanded'>expanded</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_selected_path-instance_method">
  
    #<strong>get_selected_path</strong>  &#x21d2; <tt>String</tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the full filename with path of the selected file.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Full file path to selected file.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


133
134
135</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/treeview/FileTreeView.rb', line 133</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_selected_path'>get_selected_path</span><span class='lparen'>(</span><span class='rparen'>)</span> 
  <span class='id identifier rubyid_selection'>selection</span><span class='period'>.</span><span class='id identifier rubyid_selected'>selected</span> <span class='op'>?</span> <span class='id identifier rubyid_selection'>selection</span><span class='period'>.</span><span class='id identifier rubyid_selected'>selected</span><span class='lbracket'>[</span><span class='id identifier rubyid_id'>id</span><span class='lparen'>(</span><span class='symbol'>:path</span><span class='rparen'>)</span><span class='rbracket'>]</span> <span class='op'>:</span> <span class='kw'>nil</span> 
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="open_folders-instance_method">
  
    #<strong>open_folders</strong>(folder_paths)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Opens a list of folders.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>folder_paths</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Array of Strings of folder names to expand, possibly from the #get_open_folders method.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


90
91
92
93
94
95
96
97
98</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/treeview/FileTreeView.rb', line 90</span>

<span class='kw'>def</span> <span class='id identifier rubyid_open_folders'>open_folders</span><span class='lparen'>(</span><span class='id identifier rubyid_folder_paths'>folder_paths</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_model'>model</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_iter'>iter</span><span class='op'>|</span> 
    <span class='kw'>if</span> <span class='id identifier rubyid_folder_paths'>folder_paths</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_iter'>iter</span><span class='lbracket'>[</span><span class='id identifier rubyid_id'>id</span><span class='lparen'>(</span><span class='symbol'>:path</span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_fill_folder'>fill_folder</span><span class='lparen'>(</span><span class='id identifier rubyid_iter'>iter</span><span class='rparen'>)</span>
<span class='comment'>#          expand_row(path, false)
</span><span class='comment'>#          self__row_expanded(self, iter, path)    
</span>    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="refresh-instance_method">
  
    #<strong>refresh</strong>(flags = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Refresh the file tree, optionally with a new root folder, and optionally opening an array of folders.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>flags</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>You can change the root and/or  open an array of folders.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    <p class="tag_title">Options Hash (<tt>flags</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:root</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>Path to root folder to open</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:open_folders</span>
          <span class="type">(<tt>Array</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>A list of folders to open, possibly from #get_open_folders. Default: the currently open folders, so the tree doesn’t collapse when refreshed.</p>
</div>
          
        </li>
      
    </ul>
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


41
42
43
44
45
46
47
48</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/treeview/FileTreeView.rb', line 41</span>

<span class='kw'>def</span> <span class='id identifier rubyid_refresh'>refresh</span><span class='lparen'>(</span><span class='id identifier rubyid_flags'>flags</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span> 
  <span class='ivar'>@root</span> <span class='op'>=</span> <span class='id identifier rubyid_flags'>flags</span><span class='lbracket'>[</span><span class='symbol'>:root</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_flags'>flags</span><span class='lbracket'>[</span><span class='symbol'>:root</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_open_folders'>open_folders</span> <span class='op'>=</span> <span class='id identifier rubyid_flags'>flags</span><span class='lbracket'>[</span><span class='symbol'>:open_folders</span><span class='rbracket'>]</span> <span class='op'>?</span> <span class='id identifier rubyid_flags'>flags</span><span class='lbracket'>[</span><span class='symbol'>:open_folders</span><span class='rbracket'>]</span> <span class='op'>:</span> <span class='id identifier rubyid_get_open_folders'>get_open_folders</span><span class='lparen'>(</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_model'>model</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
  <span class='ivar'>@root_iter</span> <span class='op'>=</span> <span class='id identifier rubyid_add_file'>add_file</span><span class='lparen'>(</span><span class='ivar'>@root</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_open_folders'>open_folders</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='ivar'>@root_iter</span><span class='lbracket'>[</span><span class='symbol'>:path</span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_open_folders'>open_folders</span><span class='lparen'>(</span><span class='id identifier rubyid_open_folders'>open_folders</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_show_expanders-instance_method">
  
    #<strong>set_show_expanders</strong>(expand = true)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sets whether or not the little arrow expanders appear net to the folders.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>expand</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Whether or not to show the expanders next to the folders.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


126
127
128
129</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/treeview/FileTreeView.rb', line 126</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_show_expanders'>set_show_expanders</span><span class='lparen'>(</span><span class='id identifier rubyid_expand'>expand</span> <span class='op'>=</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_show_expanders'>show_expanders</span> <span class='op'>=</span> <span class='id identifier rubyid_expand'>expand</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_level_indentation'>level_indentation</span>  <span class='op'>=</span> <span class='id identifier rubyid_expand'>expand</span> <span class='op'>?</span> <span class='int'>0</span> <span class='op'>:</span> <span class='int'>12</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Nov 26 23:40:31 2024 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.1.6).
</div>

    </div>
  </body>
</html>