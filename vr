require "gtk3"

def load_everything
  require "rubygems"
  require "gtksourceview3"
  require "yaml" #needed
  require "net/http" #needed
  require "net/https" #needed
  require "find" #needed
  require "fileutils" #needed
  require "rubygems/installer"
  require "rubygems/uninstaller"
  require "rubygems/package"
  require "rubygems/specification"
  require "date"
  
  require 'require_all'

  require_rel 'lib/'
  require_rel 'src/'

  VR_Main.new(ARGV, @bldr).show_glade()

end

$root = File.dirname(__FILE__)
 
@bldr = Gtk::Builder.new
@bldr << File.join($root, "src", "main", "glade", "Splash.glade")
@bldr[:image1].file = File.join($root, "img", "splash.png")
@bldr[:window1].show_all


GLib::Timeout.add(40) {     
    load_everything 
}

Gtk.main


